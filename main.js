(()=>{"use strict";var e="popup_is-opened";function t(t){t.classList.add(e),document.addEventListener("keydown",o)}function n(t){t.classList.remove(e),document.removeEventListener("keydown",o)}function o(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&n(t)}}function r(e){e.target===e.currentTarget&&n(e.currentTarget)}var c=document.querySelector("#card-template").content;function i(e,t){var n=c.querySelector(".card").cloneNode(!0),o=n.querySelector(".card__title"),r=n.querySelector(".card__image"),i=n.querySelector(".card__like-button"),d=n.querySelector(".card__delete-button");return o.textContent=e.name,r.alt=e.name,r.src=e.link,d.addEventListener("click",function(){t.deleteFunction(n)}),i.addEventListener("click",function(){t.likeFunction(i)}),r.addEventListener("click",function(){return t.onCardClickFunction(e)}),n}var d=document.querySelector(".places__list"),u=document.forms["edit-profile"],p=u.querySelector(".popup__input_type_name"),l=u.querySelector(".popup__input_type_description"),a=document.querySelector(".profile__title"),s=document.querySelector(".profile__description"),_=document.forms["new-place"],m=_.querySelector(".popup__input_type_card-name"),y=_.querySelector(".popup__input_type_url"),v=document.querySelector(".popup_type_image"),f=v.querySelector(".popup__image"),k=v.querySelector(".popup__caption"),q=document.querySelector(".profile__add-button"),S=document.querySelector(".popup_type_new-card"),E=document.querySelector(".profile__edit-button"),L=document.querySelectorAll(".popup"),g=document.querySelector(".popup_type_edit"),h=document.querySelectorAll(".popup__close"),x={deleteFunction:function(e){e.remove()},likeFunction:function(e){e.classList.toggle("card__like-button_is-active")},onCardClickFunction:function(e){var n=e.link,o=e.name;k.textContent=o,f.alt=o,f.src=n,t(v)}};E.addEventListener("click",function(){p.value=a.textContent,l.value=s.textContent,t(g)}),q.addEventListener("click",function(){_.reset(),t(S)}),L.forEach(function(e){var t=e.querySelector(".popup_close");t&&t.addEventListener("click",function(){n(e)}),e.addEventListener("click",r),e.classList.add("popup_is-animated")}),_.addEventListener("submit",function(e){e.preventDefault();var t=i({name:m.value,link:y.value},x);d.prepend(t),n(S)}),u.addEventListener("submit",function(e){e.preventDefault(),a.textContent=p.value,s.textContent=l.value,n(g)}),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",owner:{_id:"id_владельца"},likes:[]},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",owner:{_id:"id_владельца"},likes:[]},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",owner:{_id:"id_владельца"},likes:[]},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",owner:{_id:"id_владельца"},likes:[]},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",owner:{_id:"id_владельца"},likes:[]},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",owner:{_id:"id_владельца"},likes:[]}].forEach(function(e){var t=i(e,x);d.appendChild(t)}),h.forEach(function(e){e.addEventListener("click",function(){n(this.closest(".popup"))})})})();
//# sourceMappingURL=main.js.map