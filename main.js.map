{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mesto-project-ff/./src/scripts/cards.js","webpack://mesto-project-ff/./src/components/modal.js","webpack://mesto-project-ff/./src/components/card.js","webpack://mesto-project-ff/./src/index.js"],"sourcesContent":["export const initialCards = [\r\n    {\r\n      name: \"Архыз\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg\",\r\n      owner: {\r\n      _id: \"id_владельца\"\r\n    },\r\n      likes: []\r\n    },\r\n    {\r\n      name: \"Челябинская область\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg\",\r\n      owner: {\r\n      _id: \"id_владельца\"\r\n    },\r\n      likes: []\r\n    },\r\n    {\r\n      name: \"Иваново\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg\",\r\n      owner: {\r\n      _id: \"id_владельца\"\r\n    },\r\n      likes: []\r\n    },\r\n    {\r\n      name: \"Камчатка\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg\",\r\n      owner: {\r\n      _id: \"id_владельца\"\r\n    },\r\n      likes: []\r\n    },\r\n    {\r\n      name: \"Холмогорский район\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg\",\r\n      owner: {\r\n      _id: \"id_владельца\"\r\n    },\r\n      likes: []\r\n    },\r\n    {\r\n      name: \"Байкал\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg\",\r\n      owner: {\r\n      _id: \"id_владельца\"\r\n    },\r\n      likes: []\r\n    }\r\n];","//Класс, который будет добавлять окну состояние «открыто»\r\nconst popupOpenedClass = 'popup_is-opened';\r\n\r\n\r\n//Ф-я открытия модального окна\r\nexport function openModal(popupElement) {\r\n    popupElement.classList.add(popupOpenedClass);\r\n     //Закрытие по Esc\r\n     document.addEventListener('keydown', handleEscClose);\r\n   }\r\n\r\n   //Ф-я закрытия модального окна\r\n export function closeModal(popupElement) {\r\n    popupElement.classList.remove(popupOpenedClass);\r\n     //Удаление обработчика событий\r\n     document.removeEventListener('keydown', handleEscClose);\r\n   }\r\n\r\n//Обработчик нажатия клавиши Esc\r\n function handleEscClose(event) {\r\n     if (event.key === 'Escape') {\r\n       const openedPopup = document.querySelector(\".popup_is-opened\");\r\n     if (openedPopup) {\r\n       closeModal(openedPopup);\r\n     }\r\n   }\r\n  }\r\n\r\n//Закрытие по оверлей\r\nexport function closeOverlay(event) {\r\n  if (event.target === event.currentTarget) {\r\n    closeModal(event.currentTarget);\r\n  }\r\n}","const template = document.querySelector(\"#card-template\").content;\r\n\r\nexport function deleteCard(cardElement) {\r\n  cardElement.remove(); // Удаляет элемент карточки из DOM\r\n};\r\n\r\nexport function likeCard(likeButton) {\r\n  likeButton.classList.toggle(\"card__like-button_is-active\");\r\n}\r\n\r\nexport function createCard(cardData, callbacks) {\r\n  const clonedTemplate = template.querySelector('.card').cloneNode(true);\r\n\r\n  // Получаем вложенные элементы\r\n  const titleElement = clonedTemplate.querySelector(\".card__title\");\r\n  const imageElement = clonedTemplate.querySelector(\".card__image\");\r\n  const likeButton = clonedTemplate.querySelector('.card__like-button');\r\n  const deleteButton = clonedTemplate.querySelector('.card__delete-button');\r\n\r\n  // Устанавливаем значения\r\n  titleElement.textContent = cardData.name;\r\n  imageElement.alt = cardData.name;\r\n  imageElement.src = cardData.link;\r\n\r\n  // Добавляем обработчик клика на кнопку удаления\r\n  deleteButton.addEventListener(\"click\", () => {\r\n    callbacks.deleteFunction(clonedTemplate); // Вызываем колбэк с элементом карточки\r\n  });\r\n\r\n  // Добавляем обработчик клика для кнопки лайка\r\n  likeButton.addEventListener('click', () => {\r\n    callbacks.likeFunction(likeButton);\r\n  });\r\n\r\n  imageElement.addEventListener('click', () => \r\n    callbacks.onCardClickFunction(cardData));\r\n  return clonedTemplate;\r\n}","import './index.css'; // добавьте импорт главного файла стилей\r\nimport { initialCards } from './scripts/cards.js'; // импорт картинок\r\nimport { openModal, closeModal, closeOverlay } from './components/modal.js'; // импорт модалок\r\nimport { deleteCard, likeCard, createCard } from './components/card.js';\r\n\r\n// Контейнер с карточками\r\nconst placesList = document.querySelector('.places__list');\r\n// Редактирование профиля\r\nconst formEditProfile = document.forms[\"edit-profile\"];\r\nconst nameInput = formEditProfile.querySelector('.popup__input_type_name');\r\nconst jobInput = formEditProfile.querySelector('.popup__input_type_description');\r\nconst profileTitle = document.querySelector('.profile__title');\r\nconst profileDescription = document.querySelector('.profile__description');\r\n// Назначение\r\nconst formNewPlace = document.forms[\"new-place\"];\r\nconst cardNameInput = formNewPlace.querySelector('.popup__input_type_card-name');\r\nconst urlInput = formNewPlace.querySelector('.popup__input_type_url');\r\nconst imagePopup =   document.querySelector('.popup_type_image');\r\nconst popupImage = imagePopup.querySelector('.popup__image');\r\nconst popupCaption = imagePopup.querySelector('.popup__caption');\r\n\r\nconst addButton =  document.querySelector('.profile__add-button'); // Кнопка доб-ия карточек\r\nconst addPopup =   document.querySelector('.popup_type_new-card'); // Доб-ие карточки\r\n\r\nconst editButton =  document.querySelector('.profile__edit-button'); // Ред-ие профиля\r\nconst popUps = document.querySelectorAll(\".popup\"); // Попапы\r\nconst editPopup =   document.querySelector('.popup_type_edit'); // Ред-ие\r\nconst closeButtons = document.querySelectorAll('.popup__close');\r\n\r\nfunction openCardPopup({link, name}) {\r\n  popupCaption.textContent = name;\r\n  popupImage.alt = name;\r\n  popupImage.src = link;\r\n  openModal(imagePopup);\r\n}\r\n\r\nconst cardCallbacks = {\r\n  deleteFunction: deleteCard,\r\n  likeFunction: likeCard,\r\n  onCardClickFunction: openCardPopup,\r\n}\r\n\r\nfunction handleNewPlaceFormSubmit(evt) {\r\n  evt.preventDefault();\r\n  const name = cardNameInput.value;\r\n  const link = urlInput.value;\r\n\r\n  const cardElement = createCard({name, link}, cardCallbacks);\r\n  placesList.prepend(cardElement);\r\n  closeModal(addPopup);\r\n}\r\n\r\nfunction handleEditFormSubmit(evt) {\r\n    evt.preventDefault();\r\n    profileTitle.textContent = nameInput.value;\r\n    profileDescription.textContent = jobInput.value;\r\n    closeModal(editPopup);\r\n}\r\n\r\neditButton.addEventListener(\"click\", () => {\r\n  nameInput.value = profileTitle.textContent;\r\n  jobInput.value = profileDescription.textContent;\r\n  openModal(editPopup);\r\n})\r\n\r\naddButton.addEventListener(\"click\", () => {\r\n  formNewPlace.reset();\r\n  openModal(addPopup);\r\n})\r\n\r\npopUps.forEach((popup) => {\r\n  const closeCross = popup.querySelector(\".popup_close\");\r\n  if (closeCross) {\r\n    closeCross.addEventListener(\"click\", () => {\r\n      closeModal(popup);\r\n    });\r\n  }\r\n  popup.addEventListener(\"click\", closeOverlay);\r\n  // Добавляем модификатор popup_is-animated модальному окну\r\n  popup.classList.add(\"popup_is-animated\");\r\n});\r\n\r\n\r\nformNewPlace.addEventListener(\"submit\", handleNewPlaceFormSubmit);\r\n\r\nformEditProfile.addEventListener(\"submit\", handleEditFormSubmit);\r\n\r\n// показать все карточки\r\ninitialCards.forEach((cardData) => {\r\n  const card = createCard(cardData, cardCallbacks); // Передаём removeCard в качестве колбека\r\n  placesList.appendChild(card);\r\n});\r\n\r\ncloseButtons.forEach(button => {\r\n  button.addEventListener('click', function() { const popup = this.closest('.popup');\r\n    closeModal(popup); \r\n  }); \r\n});"],"names":["popupOpenedClass","openModal","popupElement","classList","add","document","addEventListener","handleEscClose","closeModal","remove","removeEventListener","event","key","openedPopup","querySelector","closeOverlay","target","currentTarget","template","content","createCard","cardData","callbacks","clonedTemplate","cloneNode","titleElement","imageElement","likeButton","deleteButton","textContent","name","alt","src","link","deleteFunction","likeFunction","onCardClickFunction","placesList","formEditProfile","forms","nameInput","jobInput","profileTitle","profileDescription","formNewPlace","cardNameInput","urlInput","imagePopup","popupImage","popupCaption","addButton","addPopup","editButton","popUps","querySelectorAll","editPopup","closeButtons","cardCallbacks","cardElement","toggle","_ref","value","reset","forEach","popup","closeCross","evt","preventDefault","prepend","owner","_id","likes","card","appendChild","button","this","closest"],"sourceRoot":""}